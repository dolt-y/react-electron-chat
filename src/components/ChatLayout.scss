$primary-color: #007aff;
$background-left: #f0f2f5;
$background-center: #e5ddd5;
$background-right: #f9f9f9;
$avatar-size: 40px;
$border-radius: 12px;

.chat-layout {
  display: flex;
  height: 100vh;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;

  &__left { width: 260px; border-right: 1px solid #ddd; background-color: $background-left; overflow-y: auto; }
  &__center { flex: 1; display: flex; flex-direction: column; background-color: $background-center; position: relative; }
  &__right { width: 280px; border-left: 1px solid #ddd; background-color: $background-right; overflow-y: auto; padding: 15px; }
}

/* 联系人列表 */
.contact-list {
  .contact-item {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    cursor: pointer;
    border-radius: $border-radius;
    margin: 5px 10px;
    transition: background 0.2s;

    &:hover { background-color: lighten($background-left, 10%); }

    .avatar { width: $avatar-size; height: $avatar-size; border-radius: 50%; background-color: #bbb; margin-right: 10px; flex-shrink: 0; }
    .name { font-weight: 500; }
    .status { width: 10px; height: 10px; border-radius: 50%; background-color: #4caf50; margin-left: auto; }
  }
}

/* 聊天窗口 */
.chat-window { display: flex; flex-direction: column; height: 100%;

  .chat-messages { flex: 1; padding: 20px; overflow-y: auto;
    .chat-message { display: flex; margin-bottom: 12px; max-width: 70%;
      &.self { flex-direction: row-reverse;
        .bubble { background-color: $primary-color; color: #fff; border-radius: $border-radius 0 $border-radius $border-radius; } }
      &.other { flex-direction: row;
        .bubble { background-color: #fff; color: #000; border-radius: 0 $border-radius $border-radius $border-radius; } }
      .avatar { width: $avatar-size; height: $avatar-size; border-radius: 50%; margin: 0 10px; flex-shrink: 0; }
      .bubble { padding: 10px 15px; word-break: break-word; position: relative; }
      .nickname { font-size: 12px; color: #888; margin-bottom: 3px; }
      .timestamp { font-size: 10px; color: #999; margin-top: 3px; text-align: right; }
    }
  }

  .chat-input { display: flex; padding: 10px; border-top: 1px solid #ddd; background-color: #f7f7f7;
    input { flex: 1; padding: 8px 12px; border-radius: $border-radius; border: 1px solid #ccc; outline: none; margin-right: 10px; font-size: 14px; }
    button { padding: 8px 15px; border: none; background-color: $primary-color; color: #fff; border-radius: $border-radius; cursor: pointer; &:hover { background-color: darken($primary-color, 10%); } }
    .emoji-btn { width: 36px; height: 36px; border-radius: 50%; background-color: #fff; border: 1px solid #ccc; margin-right: 10px; cursor: pointer; display: flex; justify-content: center; align-items: center; font-size: 20px; &:hover { background-color: #eee; } }
    .file-btn { cursor: pointer; margin-right: 10px; font-size: 20px; display: flex; align-items: center; input { display: none; } }
  }
}

/* 表情面板 */
.emoji-panel {
  position: absolute;
  bottom: 60px;
  left: 10px;
  background: #fff;
  border: 1px solid #ccc;
  border-radius: 12px;
  padding: 10px;
  width: 260px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.2);

  .emoji-grid { display: flex; flex-wrap: wrap;
    .emoji-item { font-size: 24px; margin: 5px; cursor: pointer; width: 30px; height: 30px; text-align: center; line-height: 30px; &:hover { background: #f0f0f0; border-radius: 6px; } }
  }

  .emoji-pagination { display: flex; justify-content: center; align-items: center; margin-top: 5px; font-size: 12px;
    button { margin: 0 10px; padding: 2px 6px; cursor: pointer; }
  }
}

/* 消息图片和文件 */
.chat-image { max-width: 200px; border-radius: 12px; margin-top: 5px; cursor: pointer; }
.chat-file { display: inline-block; color: $primary-color; text-decoration: underline; margin-top: 5px; }

/* 图片预览 */
.image-preview { position: fixed; top:0; left:0; right:0; bottom:0; background: rgba(0,0,0,0.7); display: flex; justify-content: center; align-items: center; z-index: 1000; cursor: pointer;
  img { max-width: 80%; max-height: 80%; border-radius: 12px; }
}

/* 联系人信息 */
.contact-info { h3 { margin-bottom: 15px; font-size: 18px; } p { margin-bottom: 10px; font-size: 14px; } }

/* 滚动条美化 */
.chat-layout__left::-webkit-scrollbar, .chat-layout__center::-webkit-scrollbar, .chat-layout__right::-webkit-scrollbar { width: 6px; }
.chat-layout__left::-webkit-scrollbar-thumb, .chat-layout__center::-webkit-scrollbar-thumb, .chat-layout__right::-webkit-scrollbar-thumb { background-color: rgba(0,0,0,0.2); border-radius: 3px; }
